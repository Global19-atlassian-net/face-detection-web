<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/google-chart/google-chart.html">
<link rel="import" href="../bower_components/paper-toast/paper-toast.html">
<link rel="import" href="../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">

<dom-module id="facedetection-app">
  <template>
    <style>
      :host {
        display: block;
      }
      .screenshot {
        display:inline-block;
        width: 49%;
      }
      paper-toast {
        --paper-toast-background-color: var(--canonical-aubergine);
      }
    </style>
    <div>
      <div class="row row-hero">
        <h1>Popularity of the booth:</h1>
      </div>
      <div class="row row-enterprise">
        <google-chart
          id="mainchart"
          type='area'
          options='{ "title": "Number of visitors at booth:",
                     "legend": "none",
                     "chartArea": {"width": "90%", "height": "80%"},
                     "animation": {"duration": "2000"},
                     "vAxis": {"format": "0"},
                     "hAxis": {"textPosition": "none"},
                     "series": { "0": { "color": "#dd4814" } }
                   }'
          cols='[{"label":"Time", "type":"number"}, {"label":"Numbers", "type":"number"}]'
          rows$='[[stats]]'>
        </google-chart>
      </div>
      <div class="row">
        <h2>Last screenshot and with face detection:</h2>
        <img id="screencapture" class="screenshot" src="data/screencapture.png" />
        <img id="facesdetection" class="screenshot" src="data/screendetected.png" />
      </div>
      <div class="row">
        <div class="horizontal layout center-justified">
          <paper-button id="restartButton" raised disabled$="{{!connected}}">Shut down and restart</paper-button>
        </div>
      </div>
      <paper-toast text="Not connected to server" class="fit-bottom" opened$="[[!connected]]" duration="0"></paper-toast>
    </div>
  </template>

  <script>
    Polymer({

      is: 'facedetection-app',

      properties: {
        connected: {
          type: Boolean,
          value: false,
        },
        stats: {
          type: Array,
          value: function() {
            return [];
          },
        },
      },

    });
  </script>
</dom-module>
